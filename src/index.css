/* Estilos globales para la aplicacion - Colores Ifrix */
/* Tailwind CSS utilities */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* =====================================================
   LAYER BASE - Estilos fundamentales
   ===================================================== */
@layer base {
  :root {
    --ifrix-blue-dark: #1a365d;
    --ifrix-blue: #2563eb;
    --ifrix-cyan: #06b6d4;
    --ifrix-cyan-light: #22d3ee;
    --ifrix-orange: #f97316;
    --ifrix-orange-light: #fb923c;
    --ifrix-gray-dark: #1e293b;
    --ifrix-gray: #475569;
  }

  html {
    font-size: 16px;
    -webkit-text-size-adjust: 100%;
    -webkit-tap-highlight-color: transparent;
    scroll-behavior: smooth;
  }

  body {
    @apply m-0 min-h-screen overflow-x-hidden;
    font-family: 'Roboto', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    background-color: #f0f9ff;
    color: #1e293b;
    line-height: 1.5;
  }

  h1, h2, h3, h4, h5, h6 {
    @apply m-0;
    font-family: 'Roboto', sans-serif;
    color: var(--ifrix-blue-dark);
  }

  /* Inputs responsive - previene zoom en iOS */
  input, select, textarea {
    @apply w-full rounded-lg border border-gray-300 p-2.5;
    font-size: 16px;
    min-height: 44px;
    -webkit-appearance: none;
    appearance: none;
  }

  input:focus, select:focus, textarea:focus {
    @apply outline-none border-cyan-500 ring-2 ring-cyan-500/20;
  }

  /* Tablas responsive */
  table {
    @apply w-full border-collapse mt-2;
  }

  table th, table td {
    @apply border border-gray-200 p-1.5 text-left text-xs;
  }

  table th {
    @apply bg-sky-100 font-semibold;
    color: var(--ifrix-blue-dark);
  }
}

/* =====================================================
   LAYER COMPONENTS - Componentes reutilizables
   ===================================================== */
@layer components {
  /* Boton base */
  .btn {
    @apply cursor-pointer border-none rounded-lg font-medium transition-all duration-200;
    @apply min-h-[44px];
    touch-action: manipulation;
    -webkit-tap-highlight-color: transparent;
  }

  .btn:active {
    @apply scale-[0.98];
  }

  /* Variantes de boton */
  .btn-primary {
    @apply btn bg-cyan-500 text-white px-4 py-2 text-sm;
    @apply hover:bg-blue-600;
  }

  .btn-secondary {
    @apply btn bg-gray-200 text-gray-700 px-4 py-2 text-sm;
    @apply hover:bg-gray-300;
  }

  .btn-danger {
    @apply btn bg-red-500 text-white px-3 py-1.5 text-xs;
    @apply hover:bg-red-600;
  }

  .btn-success {
    @apply btn bg-green-500 text-white px-4 py-2 text-sm;
    @apply hover:bg-green-600;
  }

  .btn-icon {
    @apply btn p-2 bg-transparent min-h-0;
    @apply hover:bg-gray-100;
  }

  /* Card responsive */
  .card {
    @apply bg-white rounded-lg shadow-md;
    @apply p-3 sm:p-4 md:p-5 lg:p-6;
    @apply mb-3 sm:mb-4;
  }

  /* Container responsive */
  .container-responsive {
    @apply w-full mx-auto;
    @apply px-3 sm:px-4 md:px-6 lg:px-8;
    @apply max-w-full lg:max-w-6xl xl:max-w-7xl;
  }

  /* Formulario responsive */
  .form-group {
    @apply flex flex-col gap-1;
  }

  .form-label {
    @apply font-medium text-gray-700;
    @apply text-xs sm:text-sm;
  }

  .form-input {
    @apply w-full rounded-lg border border-gray-300;
    @apply p-2 sm:p-2.5 md:p-3;
    @apply text-sm sm:text-base;
    @apply min-h-[44px] focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20;
  }

  /* Grid responsive */
  .grid-responsive {
    @apply grid gap-3;
    @apply grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4;
  }

  .grid-form {
    @apply grid gap-3;
    @apply grid-cols-1 sm:grid-cols-2 lg:grid-cols-3;
  }

  /* Texto responsive */
  .text-responsive-xs {
    @apply text-[10px] xs:text-xs sm:text-sm;
  }

  .text-responsive-sm {
    @apply text-xs sm:text-sm md:text-base;
  }

  .text-responsive-base {
    @apply text-sm sm:text-base md:text-lg;
  }

  .text-responsive-lg {
    @apply text-sm xs:text-base sm:text-lg md:text-xl;
  }

  .text-responsive-xl {
    @apply text-base xs:text-lg sm:text-xl md:text-2xl;
  }

  /* Heading responsive */
  .heading-page {
    @apply font-bold;
    color: var(--ifrix-blue-dark);
    @apply text-lg xs:text-xl sm:text-2xl md:text-3xl;
  }

  .heading-section {
    @apply font-semibold;
    color: var(--ifrix-blue-dark);
    @apply text-base xs:text-lg sm:text-xl md:text-2xl;
  }

  .heading-card {
    @apply font-medium text-slate-800;
    @apply text-sm xs:text-base sm:text-lg;
  }

  /* Notificaciones */
  .notification {
    @apply p-3 rounded-lg mb-3;
    @apply text-xs sm:text-sm;
  }

  .notification-success {
    @apply notification bg-green-100 text-green-800;
  }

  .notification-error {
    @apply notification bg-red-100 text-red-800;
  }

  /* Report card */
  .report-card {
    @apply bg-gray-50 border border-gray-200 rounded-lg;
    @apply p-3 sm:p-4;
    @apply mt-3;
  }

  .report-summary {
    @apply mt-3 p-2.5 bg-cyan-100 rounded-lg font-bold;
    color: var(--ifrix-blue-dark);
    @apply text-xs sm:text-sm;
  }

  /* Tab navigation */
  .tab-btn {
    @apply cursor-pointer px-3 py-2 text-sm rounded-lg transition-colors border-none;
    @apply min-h-[40px];
  }

  .tab-btn-active {
    @apply tab-btn bg-cyan-500 text-white;
  }

  .tab-btn-inactive {
    @apply tab-btn bg-transparent text-gray-600;
    @apply hover:bg-gray-100;
  }

  /* Table responsive wrapper */
  .table-responsive {
    @apply w-full overflow-x-auto -mx-3 px-3 sm:mx-0 sm:px-0;
  }

  /* Stats card */
  .stats-card {
    @apply bg-gradient-to-br from-white to-gray-50 rounded-lg shadow-sm border border-gray-100;
    @apply p-3 sm:p-4;
  }

  .stats-value {
    @apply font-bold;
    color: var(--ifrix-blue-dark);
    @apply text-lg xs:text-xl sm:text-2xl;
  }

  .stats-label {
    @apply text-gray-500;
    @apply text-[10px] xs:text-xs sm:text-sm;
  }

  /* Mobile menu */
  .mobile-menu {
    @apply fixed inset-0 z-50 bg-black/50;
    @apply lg:hidden;
  }

  .mobile-menu-content {
    @apply absolute top-0 right-0 h-full w-64 bg-white shadow-xl;
    @apply p-4;
  }

  /* Espaciado responsive */
  .space-responsive {
    @apply space-y-3 sm:space-y-4 md:space-y-6;
  }

  .gap-responsive {
    @apply gap-2 sm:gap-3 md:gap-4;
  }

  /* Padding responsive */
  .p-responsive {
    @apply p-2 xs:p-3 sm:p-4 md:p-6;
  }

  .px-responsive {
    @apply px-2 xs:px-3 sm:px-4 md:px-6;
  }

  .py-responsive {
    @apply py-2 xs:py-3 sm:py-4 md:py-6;
  }
}

/* =====================================================
   LAYER UTILITIES - Utilidades adicionales
   ===================================================== */
@layer utilities {
  /* Hide/Show por breakpoint */
  .show-xs {
    @apply hidden xs:block;
  }

  .show-sm {
    @apply hidden sm:block;
  }

  .show-md {
    @apply hidden md:block;
  }

  .show-lg {
    @apply hidden lg:block;
  }

  .hide-xs {
    @apply block xs:hidden;
  }

  .hide-sm {
    @apply block sm:hidden;
  }

  .hide-lg {
    @apply block lg:hidden;
  }

  /* Safe areas para iPhone notch/dynamic island */
  .pt-safe {
    padding-top: env(safe-area-inset-top);
  }

  .pb-safe {
    padding-bottom: env(safe-area-inset-bottom);
  }

  .px-safe {
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
  }

  /* Touch feedback */
  .touch-feedback {
    @apply active:opacity-70 active:scale-[0.98] transition-all duration-100;
  }

  /* No select */
  .no-select {
    -webkit-user-select: none;
    user-select: none;
  }

  /* Truncate text */
  .truncate-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .truncate-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  /* Scroll horizontal suave */
  .scroll-x {
    @apply overflow-x-auto;
    -webkit-overflow-scrolling: touch;
    scrollbar-width: thin;
  }
}

/* =====================================================
   SCROLLBAR PERSONALIZADA
   ===================================================== */
::-webkit-scrollbar {
  width: 4px;
  height: 4px;
}

::-webkit-scrollbar-track {
  background: #f1f1f1;
}

::-webkit-scrollbar-thumb {
  background: #c1c1c1;
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: #a1a1a1;
}

/* =====================================================
   ANIMACIONES (respetar preferencias de usuario)
   ===================================================== */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}
